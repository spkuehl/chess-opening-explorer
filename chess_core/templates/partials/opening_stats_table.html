{% if stats %}
<p>Total: {{ total }} opening{{ total|pluralize }}.</p>
<table>
  <thead>
    <tr>
      <th><a href="{% url 'explore' %}{{ column_links.eco_code.url }}" hx-get="{% url 'explore' %}{{ column_links.eco_code.url }}" hx-target="#opening-stats-results" hx-swap="innerHTML" hx-push-url="true">{{ column_links.eco_code.indicator }} ECO</a></th>
      <th><a href="{% url 'explore' %}{{ column_links.name.url }}" hx-get="{% url 'explore' %}{{ column_links.name.url }}" hx-target="#opening-stats-results" hx-swap="innerHTML" hx-push-url="true">{{ column_links.name.indicator }} Opening</a></th>
      <th><a href="{% url 'explore' %}{{ column_links.game_count.url }}" hx-get="{% url 'explore' %}{{ column_links.game_count.url }}" hx-target="#opening-stats-results" hx-swap="innerHTML" hx-push-url="true">{{ column_links.game_count.indicator }} Games</a></th>
      <th><a href="{% url 'explore' %}{{ column_links.white_wins.url }}" hx-get="{% url 'explore' %}{{ column_links.white_wins.url }}" hx-target="#opening-stats-results" hx-swap="innerHTML" hx-push-url="true">{{ column_links.white_wins.indicator }} White wins</a></th>
      <th><a href="{% url 'explore' %}{{ column_links.draws.url }}" hx-get="{% url 'explore' %}{{ column_links.draws.url }}" hx-target="#opening-stats-results" hx-swap="innerHTML" hx-push-url="true">{{ column_links.draws.indicator }} Draws</a></th>
      <th><a href="{% url 'explore' %}{{ column_links.black_wins.url }}" hx-get="{% url 'explore' %}{{ column_links.black_wins.url }}" hx-target="#opening-stats-results" hx-swap="innerHTML" hx-push-url="true">{{ column_links.black_wins.indicator }} Black wins</a></th>
      <th><a href="{% url 'explore' %}{{ column_links.avg_moves.url }}" hx-get="{% url 'explore' %}{{ column_links.avg_moves.url }}" hx-target="#opening-stats-results" hx-swap="innerHTML" hx-push-url="true">{{ column_links.avg_moves.indicator }} Avg moves</a></th>
    </tr>
  </thead>
  <tbody>
    {% for row in stats %}
    <tr>
      <td>{{ row.eco_code }}</td>
      <td>{{ row.name }}<br><span style="font-size: 0.875em">{{ row.moves }}</span></td>
      <td>{{ row.game_count }}</td>
      <td>{{ row.white_wins }}</td>
      <td>{{ row.draws }}</td>
      <td>{{ row.black_wins }}</td>
      <td>{{ row.avg_moves|default:"â€”" }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>No openings match the filters.</p>
{% endif %}
